!function o(r,c,i){function a(t,e){if(!c[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=c[t]={exports:{}},r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,o,r,c,i)}return c[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)a(i[e]);return a}({1:[function(e,t,n){"use strict";var o=e("./utils/ios-vh-fix"),r=e("./modules/wapper"),c=e("./modules/localisation"),i=e("./modules/lang-switcher"),a=e("./modules/set-name"),s=e("./modules/logout"),l=e("./modules/slider"),u=e("./modules/tabs"),d=e("./modules/dropdown"),m=e("./modules/show-password"),f=e("./modules/readonly-switch"),v=e("./modules/select-other"),p=e("./modules/clients-btns"),h=e("./modules/modal"),g=e("./modules/client-card"),_=e("./modules/my-swiper"),y=e("./modules/pickdate"),S=e("./modules/schedule"),b=e("./modules/redirect-profile"),w=e("./modules/utils-btns"),L=e("./modules/upload-user-photo"),q=e("./modules/amin-alerts"),E=e("./modules/uploaded-list"),A=e("./modules/indicator"),k=e("./modules/add-card"),C=e("./modules/update-card"),x=e("./modules/doc-activatation"),j=e("./modules/full-doc-info"),P=localStorage.getItem("language")||"en";window.addEventListener("DOMContentLoaded",function(){(0,o.iosVhFix)(),(0,r.setWrapperClass)(),(0,c.loadLanguage)(P),(0,s.logOut)(),(0,i.setLangBtn)(),(0,q.initAdminAlerts)(),window.addEventListener("load",function(){(0,a.setName)(),(0,l.initSlider)(),(0,u.initTabs)(),(0,d.showDropdownList)(),(0,m.showPassword)(),(0,f.switchReadonly)(),(0,v.showTextInput)(),(0,p.initActionsBtns)(),(0,h.initModal)(),(0,g.setClientCard)(),(0,_.initSwiper)(),(0,y.setChoiceBtn)(),(0,S.expandList)(),(0,S.initScheduleDropdown)(),(0,w.setUtilsBtns)(),(0,b.redirectToProfile)(),(0,L.uploadUserPhoto)(),(0,E.showUploadedFiles)(),(0,A.setIndicator)(),(0,k.formatCardInputs)(),(0,k.sendCard)(),(0,C.formatCardInputsUpdate)(),(0,C.sendCardUpdate)(),(0,x.initDocActivation)(),(0,j.downloadFullInfo)()})})},{"./modules/add-card":2,"./modules/amin-alerts":3,"./modules/client-card":4,"./modules/clients-btns":5,"./modules/doc-activatation":6,"./modules/dropdown":7,"./modules/full-doc-info":8,"./modules/indicator":9,"./modules/lang-switcher":10,"./modules/localisation":11,"./modules/logout":12,"./modules/modal":13,"./modules/my-swiper":14,"./modules/pickdate":15,"./modules/readonly-switch":16,"./modules/redirect-profile":17,"./modules/schedule":18,"./modules/select-other":19,"./modules/set-name":20,"./modules/show-password":21,"./modules/slider":22,"./modules/tabs":23,"./modules/update-card":24,"./modules/upload-user-photo":25,"./modules/uploaded-list":26,"./modules/utils-btns":27,"./modules/wapper":28,"./utils/ios-vh-fix":30}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.formatCardInputs=function(){var t,n,e;r&&(t=r.querySelector("#card-number"),n=r.querySelector("#card-exp"),e=r.querySelector("#card-cvc"),t.addEventListener("input",function(){var e=(e=16<(e=t.value.replace(/\D/g,"")).length?e.slice(0,16):e).replace(/(.{4})/g,"$1 ").trim();t.value=e}),n.addEventListener("input",function(){var e=n.value.replace(/\D/g,"");3<=(e=4<e.length?e.slice(0,4):e).length&&(e=e.slice(0,2)+" / "+e.slice(2)),n.value=e}),e.addEventListener("input",function(){e.value=e.value.replace(/\D/g,""),3<e.value.length&&(e.value=e.value.slice(0,3))}))},n.sendCard=function(){var n;r&&((n=r.querySelector(".card__submit-btn")).addEventListener("click",function(){n.classList.add("is-loading")}),r.addEventListener("submit",function(e){e.preventDefault();var e=r.querySelector("#card-exp").value,t=e.slice(0,2),e="".concat(e.slice(5,7)),t=(o=r.querySelector("#card-number").value.replace(/\s/g,"").slice(-4),{session_token:c,card_number:Number(r.querySelector("#card-number").value.replace(/\s/g,"")),card_holder:r.querySelector("#card-owner").value,card_cvc:Number(r.querySelector("#card-cvc").value),card_valid_to:"".concat(t,"-").concat(e)});setTimeout(function(){n.classList.remove("is-loading")},1e3),fetch("http://127.0.0.1:8000/add_card",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw n.classList.remove("is-loading"),new Error("Сеть не в порядке")}).then(function(e){console.log(e),r.reset(),document.querySelector("#card-num")&&(document.querySelector("#card-num").textContent=o),document.querySelector(".doctor-account__settings")&&document.querySelector(".doctor-account__settings").setAttribute("data-utils","settings-main")}).catch(function(e){n.classList.remove("is-loading"),console.error("Ошибка при отправке данных карты:",e),alert(e)}).finally(function(){setTimeout(function(){n.classList.remove("is-loading"),n.closest(".modal")&&n.closest(".modal").classList.remove("is-active"),"/user-signup-payment.html"===window.location.pathname&&(window.location.href="/user-account-settings.html")},1e3)})}))};var o,r=document.querySelector("#add-card-form"),c=localStorage.getItem("token")},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initAdminAlerts=function(){c&&(s(),document.addEventListener("mousemove",s),document.addEventListener("keypress",s))};var o,r,c=document.querySelector(".admin .internal"),i="sessionWarningShown";function a(e){document.getElementById(e).classList.add("is-active")}function s(){var e;e="logout-warning",document.getElementById(e).classList.remove("is-active"),clearTimeout(o),clearTimeout(r),localStorage.getItem(i)||(a("session-warning"),localStorage.setItem(i,"true")),r=setTimeout(function(){a("logout-warning")},84e4),o=setTimeout(function(){var e;e=localStorage.getItem("language")||"en",localStorage.clear(),localStorage.setItem("language",e),localStorage.setItem(i,"false"),window.location.href="/admin-login.html"},9e5)}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setClientCard=function(){{var i,a,s,l,u;r&&(i=r.querySelector(".client-card__username"),a=r.querySelector(".client-card__userid"),s=r.querySelector(".client-card__age"),l=r.querySelector(".client-card__sessions-amount"),u=r.querySelector(".client-card__next-session"),o.forEach(function(e){var t=e.closest(".clients__item"),n=t.querySelector(".clients__client-id"),o=t.querySelector(".clients__client-age"),r=t.querySelector(".clients__sessions-amount"),c=t.querySelector(".clients__next-session");e.addEventListener("click",function(){i.textContent=e.textContent,a.textContent=n.textContent,s.textContent=o.textContent,l.textContent=r.textContent,u.textContent=c.textContent})}))}};var o=document.querySelectorAll(".clients__client-name"),r=document.querySelector(".client-card")},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initActionsBtns=function(){o&&(document.querySelectorAll(".clients__session-status").forEach(function(t){t.addEventListener("click",function(e){e.stopPropagation(),r(document.querySelectorAll(".clients__actions"));e=t.closest(".clients__item").querySelector(".clients__actions");e.classList.contains("is-active")||e.classList.add("is-active")})}),document.querySelectorAll(".clients__actions-close").forEach(function(t){t.addEventListener("click",function(e){e.stopPropagation(),t.closest(".clients__actions").classList.remove("is-active")})}),document.addEventListener("click",function(){r(document.querySelectorAll(".clients__actions"))}))};var o=document.querySelector(".clients");function r(e){e.forEach(function(e){e.classList.contains("is-active")&&e.classList.remove("is-active")})}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initDocActivation=function(){o&&document.addEventListener("click",function(e){var t;e.target.matches(".doc-deactivate-btn")?(t=e.target.getAttribute("data-id"),t={session_token:r,doc_id:t=t,deactivate:1},r?fetch("http://127.0.0.1:8000/approve_therapist",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw new Error("Сеть не в порядке")}).then(function(e){console.log("Доктор деактивирован",e)}).catch(function(e){console.error("Ошибка при получении данных пользователя:",e)}):console.log("Токен не найден. Пожалуйста, войдите в систему."),window.location.reload()):e.target.matches(".doc-activate-btn")&&(t=e.target.getAttribute("data-id"),e={session_token:r,doc_id:e=t,deactivate:0},r?fetch("http://127.0.0.1:8000/approve_therapist",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e.json();throw new Error("Сеть не в порядке")}).then(function(e){console.log("Доктор заапрувлен",e)}).catch(function(e){console.error("Ошибка при получении данных пользователя:",e)}):console.log("Токен не найден. Пожалуйста, войдите в систему."),window.location.reload())})};var o=document.querySelector(".admin"),r=localStorage.getItem("token")},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.showDropdownList=function(){o.forEach(function(t){var n=t,e=n.getAttribute("data-id"),o=document.querySelector(e);t.addEventListener("click",function(e){e.preventDefault(),o.classList.contains("is-active")?(o.classList.remove("is-active"),n.classList.remove("is-active")):(o.classList.add("is-active"),n.classList.add("is-active"))}),document.addEventListener("click",function(e){o.classList.contains("is-active")&&e.target!==t&&!t.contains(e.target)&&(o.classList.remove("is-active"),n.classList.remove("is-active"))}),document.addEventListener("keydown",function(e){"Escape"===e.key&&(o.classList.remove("is-active"),n.classList.remove("is-active"))})})};var o=document.querySelectorAll(".js-dropdown-trigger")},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.downloadFullInfo=function(){o&&o.addEventListener("click",function(){var e={session_token:r,user_id:c};fetch("http://127.0.0.1:8000/admin_get_therapist_interview",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e.json();throw new Error("Сеть не в порядке")}).then(function(e){console.log(e);t={0:"Русский",1:"Английский",2:"Венгерский"},n={0:"Усталость",1:"Депрессивные состояния",2:"Раздражительность",3:"Тревожность",4:"Панические атаки",5:"Самооценка",6:"Одиночество",7:"Поведенческая зависимость",8:"Химические зависимости",9:"Критические состояния",10:"ЛГБТ+",11:"С партнером",12:"С родителями",13:"Сексуальные",14:"В целом, с окружающими",15:"С детьми",16:"Сложности с ориентацией, ее поиск",17:"Недостаток мотивации",18:"Не знаю, чем хочу заниматься",19:"Отсутствие цели",20:"Выгорание",21:"Прокрастинация",22:"Смена, потеря работы",23:"Переезд, эмиграция",24:"Разрыв отношений, развод",25:"Утрата близкого человека",26:"Беременность, рождение ребенка",27:"Финансовые изменения",28:"Болезнь, своя или близких"},o={0:"Психоанализ",1:"Терапия внутренних семейных систем (IFS)",2:"Когнитивно-поведенческая терапия (КПТ)",3:"Травма-фокусированный КПТ",4:"Терапия, сфокусированная на сострадании (CFT)",5:"Диалектическая поведенческая терапия (ДБТ/DBT)",6:"Гештальт-терапия",7:"Системная семейная терапия",8:"Системная сексуальная терапия",9:"Терапия принятия и ответственности",10:"Схема-терапия (CBT)",11:"Экзистенциальная психотерапия(лого и клиент-центрированная)",12:"Трансактный анализ",13:"Десенсибилизация и переработка движением глаз(EMDR/ДПДГ)",14:"Рационально эмоционально поведенческая терапия(REBT)",15:"Эмоционально-фокусированная терапия (ЭФТ)",16:"Арт-терапия"},r={0:"Зависимости, аддикции",1:"Растройство пищевого поведения",2:"Сексология",3:"Экстремальные ситуации, ПТСР",4:"Другое"};var t,n,o,r,e={"Статус профиля":0===(e=e).approved?"Не активирован":"Активирован","Имя":e.doc_name,"Дата рождения":function(e){var e=new Date(e),t=localStorage.getItem("language")||"en";return e.toLocaleDateString("en"===t?"en-US":"ru-RU",{day:"numeric",month:"long",year:"numeric"})}(e.doc_date_of_birth),"Пол":0===e.doc_gender?"Мужской":"Женский","Образование":e.doc_educations,"Дополнительное образование":null===e.doc_additional_educations?"Нет":e.doc_additional_educations.map(function(e){return r[e]}).join(", "),"Состоите ли вы в каком-либо психотерапевтическом сообществе?":e.doc_comunity,"Начало практики":e.doc_practice_start,"Сколько лет опыта работы онлайн":e.doc_online_experience,"Гражданство":{0:"РФ",1:"Венгрия",2:"Казахстан",3:"Украина",4:"Беларусь",other:"Другое"}[e.doc_citizenship],'Гражданство (если выбрано "другое")':e.doc_citizenship_other,Email:e.doc_email,"Телефон":e.doc_phone,"О себе":e.doc_additional_info,"Какие вещи вы считаете недопустимыми":e.doc_question_1,"С чем нельзя работать онлайн":e.doc_question_2,"Сколько клиентов сейчас в практике":e.doc_customers_amount_current,"Сколько времени заняла самая длительная терапия":e.doc_therapy_length,"Личная терапия":"yes"===e.doc_personal_therapy?"Да":"Нет","Супервизия":"yes"===e.doc_supervision?"Да":"Нет","Есть ли другая работа кроме психотерапевтической практики":e.doc_another_job,"Какое количество клиентов готовы взять":e.doc_customers_slots_available,"Ссылки на соцсети":e.doc_socials_links,"Стоимость сессии":{0:"19500",1:"29500",2:"39500"}[e.doc_session_cost],"Способ связи":{doc_contact_email:"Email",doc_contact_whatsapp:"WhatsApp",other:"Telegram"}[e.doc_contact],"Ник в телеграм (если выбран)":e.doc_contact_other,"Часовой пояс":e.doc_timezone,"Как узнали о наборе терапевтов":{0:"Рассказали коллеги / друзья",1:"Из рекламы во ВКонтакте",2:"Из рекламы в Фейсбук",3:"Из рекламы в Инстаграм",4:"Из вашего аккаунта в Инстаграм",5:"Нашёл/нашла на сайте информацию о наборе",6:"Через поиск работы в интернете",other:"Другое"}[e.doc_ref],'Как узнали о наборе терапевтов (если выбрано "Другое")':e.doc_ref_other,"Возраст клиентов":0===e.doc_client_age?"16+":"18+","Опыт работы с LGBTQ+":0===e.doc_lgbtq?"Да":"Нет","Вид терапии":{0:"Индивидуальная",1:"Парная",2:"Индивидуальная и парная"}[e.doc_therapy_type],"Языки терапии":e.doc_languages.map(function(e){return t[e]}).join(", "),"Симптомы, с которыми работает":e.doc_sympoms.map(function(e){return n[e]}).join(", "),"Методы терапии":e.doc_methods.map(function(e){return o[e]}).join(", ")},e=JSON.stringify(e,null,2),e=new Blob([e],{type:"application/json"}),e=URL.createObjectURL(e),c=document.createElement("a");c.href=e,c.download="document.txt",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(e)}).catch(function(e){console.error("Ошибка при получении данных пользователя:",e)})})};var o=document.querySelector(".full-info-btn"),r=localStorage.getItem("token"),n=new URL(window.location.href),c=Number(n.searchParams.get("id"))},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIndicator=function t(){if(!o)return;a();c&&c.addEventListener("click",function(){});document.addEventListener("click",function(e){(e.target.matches(".doctor__submit-btn")||e.target.matches(".doctor__submit-btn-new")||e.target.matches(".approve-session-btn")||e.target.matches(".cancel-session-btn"))&&setTimeout(function(){t()},1e3)})};var o=document.querySelector(".requests-indicator"),r=localStorage.getItem("token"),c=document.querySelector(".sessions__requests-list"),i=0;function a(){fetch("http://127.0.0.1:8000/recieve_sessions_list_for_therapist",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({session_token:r})}).then(function(e){if(e.ok)return e.json();throw new Error("Сеть не в порядке")}).then(function(e){var t=e.pending_sessions_list.filter(function(e){return 2!==e.pending}).length,e=e.normal_sessions_list.filter(function(e){return 0===e.accepted}).length;i=e+t,o.textContent=0<i?"(".concat(i,")"):""}).catch(function(e){console.error("Ошибка при получении данных пользователя:",e)})}},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setLangBtn=function(){o.forEach(function(e){switch(r){case"ru":e.textContent="Русский";break;case"en":e.textContent="English";break;case"hu":e.textContent="Magyar";break;default:e.textContent="English"}})};var o=document.querySelectorAll(".current-language"),r=localStorage.getItem("language")},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadLanguage=r;var o=document.querySelectorAll("[data-lang]");function r(e){fetch("./locales/".concat(e,".json")).then(function(e){return e.json()}).then(function(e){var t,n=e;for(t in n)!function(t){Object.hasOwn(n,t)&&document.querySelectorAll('[data-translate="'.concat(t,'"]')).forEach(function(e){"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.placeholder=n[t]:e.textContent=n[t],e.style.opacity="1"})}(t);o.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t,e=n.getAttribute("data-lang");r(e),localStorage.setItem("language",e),t=e,document.querySelectorAll(".current-language").forEach(function(e){switch(t){case"ru":e.textContent="Русский";break;case"en":e.textContent="English";break;case"hu":e.textContent="Magyar";break;default:e.textContent="English"}})})})}).catch(function(e){return console.error("Error loading language file:",e)})}},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logOut=function e(){if(!e)return;o.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=localStorage.getItem("language")||"en",localStorage.clear(),localStorage.setItem("language",e),e=window.location.href;e.includes("admin")?window.location.href="/admin-login.html":window.location.href="/index.html"})})};var o=document.querySelectorAll(".logout-btn")},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initModal=function(){c.forEach(function(e){setTimeout(function(){e.classList.remove("modal--preload")},100)}),o.forEach(function(e){var t=e,n=t.getAttribute("data-modal-id"),o=document.querySelector(n),n=t.getAttribute("data-item-id"),r=document.querySelector(n);e.addEventListener("click",function(e){e.preventDefault(),o.classList.add("is-active"),r&&r.classList.add("is-active")})}),r.forEach(function(e){e.addEventListener("click",function(){a()})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&a()})};var o=document.querySelectorAll("[data-open-modal]"),r=document.querySelectorAll("[data-close-modal]"),c=document.querySelectorAll(".modal"),i=document.querySelectorAll(".modal__item");function a(){c.forEach(function(e){e.classList.remove("is-active")}),i.forEach(function(e){e.classList.remove("is-active")})}},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initSwiper=function(){o&&new Swiper("#swiper-1",{navigation:{nextEl:".swiper-btn--next",prevEl:".swiper-btn--prev"},loop:!1,slidesPerView:"8",spaceBetween:47})};var o=document.querySelector("#swiper-1")},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setChoiceBtn=function i(){if(!o)return;o.forEach(function(e){var t=e.querySelectorAll('input[type="radio"]'),o=e.querySelector('button[type="submit"]'),r=o.querySelector(".doctor__submit-date"),c=e.querySelector(".error-message");t.length?t.forEach(function(n){n.getAttribute("data-id")&&""!==n.getAttribute("data-id")?n.addEventListener("change",function(){c.classList.remove("is-active"),o.disabled=!1,o.classList.add("is-enabled"),o.setAttribute("data-id",n.getAttribute("data-id"));var e=n.getAttribute("data-time"),t=n.getAttribute("value");r.textContent=" ".concat(a(e)," ").concat(t," ")}):setTimeout(function(){i()},200)}):setTimeout(function(){i()},200)})};var o=document.querySelectorAll(".choice-date-form");document.querySelector(".therapist");function a(e){var e=new Date(e),t=localStorage.getItem("language")||"en",n={day:"numeric",month:"long"},e=e.toLocaleString("en"===t?"en-US":"ru-RU",n);return"".concat(e)}},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.switchReadonly=function(){o&&o.forEach(function(r){r.addEventListener("click",function(){var e,t,n,o=r.closest("label").querySelector("input");o=o,e=r,t=localStorage.getItem("language")||"en",n={en:{apply:"Apply",edit:"Edit"},ru:{apply:"Применить",edit:"Редактировать"},hu:{apply:"Alkalmaz",edit:"Szerkesztés"}},o.hasAttribute("readonly")?(o.removeAttribute("readonly"),e.textContent=n[t].apply):(o.setAttribute("readonly",""),e.textContent=n[t].edit)})})};var o=document.querySelectorAll(".settings__edit-btn")},{}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.redirectToProfile=function(){o&&o.addEventListener("click",function(){r?window.location.href="/doctor-account-sessions.html":c?fetch("http://127.0.0.1:8000/get_client_data",{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify({session_token:c})}).then(function(e){if(e.ok)return e.json();throw new Error("Сеть не в порядке")}).then(function(e){null===e.user_age?window.location.href="/user-signup-main.html":null===e.has_therapist?window.location.href="/user-signup-choice.html":""===e.user_card_data?window.location.href="/user-signup-payment.html":window.location.href="/user-account-main.html"}).catch(function(e){console.error("Ошибка при получении данных пользователя:",e)}):console.log("Токен не найден. Пожалуйста, войдите в систему.")})};var o=document.querySelector(".logged__btn"),r="true"===localStorage.getItem("is_therapist"),c=localStorage.getItem("token")},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.expandList=function c(){if(!o)return;o.forEach(function(r){r.addEventListener("click",function(){var e=r.closest(".schedule-wrapper").querySelector(".schedule-container"),t=e.querySelectorAll(".doctor__day-wrapper");if(0===t.length)setTimeout(function(){c()},200);else{var n=0;t.forEach(function(e){"block"===e.style.display&&n++});for(var o=n;o<n+3&&o<t.length;o++)t[o].style.display="block";n+3>=t.length&&r.classList.add("hidden")}})})},n.initScheduleDropdown=function o(){if(!r)return;r.forEach(function(e){var t=e.querySelectorAll(".doctor__day-wrapper");if(0===t.length&&setTimeout(function(){o()},200),t.forEach(function(e){e.style.display="none"}),t.length<=3)t.forEach(function(e){e.style.display="block"});else for(var n=0;n<3;n++)t[n].style.display="block"})};var o=document.querySelectorAll(".schedule__show-more"),r=document.querySelectorAll(".schedule-container")},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.showTextInput=function(){r&&o.forEach(function(e){var t=e.nextElementSibling&&e.nextElementSibling.classList.contains("other-input");e.addEventListener("change",function(){"other"===e.value&&t?e.nextElementSibling.classList.add("is-active"):"other"!==e.value&&t&&e.nextElementSibling.classList.remove("is-active")})})};var o=document.querySelectorAll("select"),r=document.querySelectorAll(".other-input")},{}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setName=function(){var t;o&&(t=localStorage.getItem("user_name"),o.forEach(function(e){e.textContent=t}))};var o=document.querySelectorAll(".gotten-username")},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.showPassword=function(){o&&o.addEventListener("click",function(){"password"===r.getAttribute("type")?(r.setAttribute("type","text"),o.textContent="Скрыть пароль"):(r.setAttribute("type","password"),o.textContent="Показать пароль")})};var o=document.querySelector(".show-password-btn"),r=document.querySelector('input[type="password"]')},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initSlider=function(){{var n,e;o&&(n=function(){var e;e=s,i.forEach(function(e){e.classList.remove("is-active")}),i[e].classList.add("is-active"),e=s,a.forEach(function(e){e.classList.remove("is-active")}),a[e].classList.add("is-active")},e=function(){s===i.length-1?s=0:s++,n()},a.forEach(function(e,t){e.addEventListener("click",function(){s=t,n()})}),c.addEventListener("click",e),r.addEventListener("click",function(){0===s?s=i.length-1:s--,n()}),setInterval(e,3e3))}};var o=document.querySelector(".slider"),r=document.querySelector(".btn-prev"),c=document.querySelector(".btn-next"),i=document.querySelectorAll(".slide"),a=document.querySelectorAll(".dot"),s=0},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initTabs=function(){o&&r.forEach(function(n){n.addEventListener("click",function(){var e=n,t=e.getAttribute("data-tab"),t=document.querySelector(t);e.classList.contains("is-active")||(r.forEach(function(e){e.classList.remove("is-active")}),c.forEach(function(e){e.classList.remove("is-active")}),e.classList.add("is-active"),t.classList.add("is-active"))})})};var o=document.querySelectorAll(".tabs"),r=document.querySelectorAll("[tab-btn]"),c=document.querySelectorAll("[tab-item]")},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.formatCardInputsUpdate=function(){var t,n,e;r&&(t=r.querySelector("#update-card-number"),n=r.querySelector("#update-card-exp"),e=r.querySelector("#update-card-cvc"),t.addEventListener("input",function(){var e=(e=16<(e=t.value.replace(/\D/g,"")).length?e.slice(0,16):e).replace(/(.{4})/g,"$1 ").trim();t.value=e}),n.addEventListener("input",function(){var e=n.value.replace(/\D/g,"");3<=(e=4<e.length?e.slice(0,4):e).length&&(e=e.slice(0,2)+" / "+e.slice(2)),n.value=e}),e.addEventListener("input",function(){e.value=e.value.replace(/\D/g,""),3<e.value.length&&(e.value=e.value.slice(0,3))}))},n.sendCardUpdate=function(){var n;r&&((n=r.querySelector(".card__submit-btn")).addEventListener("click",function(){n.classList.add("is-loading")}),r.addEventListener("submit",function(e){e.preventDefault();var e=r.querySelector("#update-card-exp").value,t=e.slice(0,2),e="".concat(e.slice(5,7)),t=(o=r.querySelector("#update-card-number").value.replace(/\s/g,"").slice(-4),{session_token:c,card_number:Number(r.querySelector("#update-card-number").value.replace(/\s/g,"")),card_holder:r.querySelector("#update-card-owner").value,card_cvc:Number(r.querySelector("#update-card-cvc").value),card_valid_to:"".concat(t,"-").concat(e)});setTimeout(function(){n.classList.remove("is-loading")},1e3),fetch("http://127.0.0.1:8000/update_card",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw n.classList.remove("is-loading"),new Error("Сеть не в порядке")}).then(function(e){console.log(e),r.reset(),document.querySelector("#card-num")&&(document.querySelector("#card-num").textContent=o)}).catch(function(e){n.classList.remove("is-loading"),console.error("Ошибка при отправке данных карты:",e),alert(e)}).finally(function(){setTimeout(function(){n.classList.remove("is-loading"),n.closest(".modal").classList.remove("is-active")},1e3)})}))};var o,r=document.querySelector("#update-card-form"),c=localStorage.getItem("token")},{}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uploadUserPhoto=function(){r&&o.addEventListener("change",function(e){e=e.target.files;0<e.length?r.textContent=e[0].name:r.textContent="файл не выбран"})};var o=document.querySelector("#user_photo"),r=document.querySelector(".settings__avatar-filename")},{}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.showUploadedFiles=function(){o&&o.forEach(function(s){var e=s.querySelector('input[type="file"]'),l=s.querySelector(".file-list"),u=s.querySelector(".reset-upload");e.addEventListener("change",function(e){s.classList.contains("upload--photos")&&!function(e){for(var t=e.target.files,n=0;n<t.length;n++)if(!t[n].type.startsWith("image/"))return e.target.closest(".doc-questionary__wrapper").querySelector(".error-message").classList.add("is-active"),e.target.closest(".doc-questionary__wrapper").querySelector(".error-message").textContent="Images only are allowed to upload",e.target.value="";3<t.length?(e.target.closest(".doc-questionary__wrapper").querySelector(".error-message").classList.add("is-active"),e.target.closest(".doc-questionary__wrapper").querySelector(".error-message").textContent="You can upload no more than 3 files.",e.target.value=""):(console.log("Файлы успешно выбраны:",t),e.target.closest(".doc-questionary__wrapper").querySelector(".error-message").classList.remove("is-active"),e.target.closest(".doc-questionary__wrapper").querySelector(".error-message").textContent="")}(e);for(var t=e,n=t.target.files,o=0,r=0;r<n.length;r++)o+=n[r].size;15728640<o&&(t.target.closest(".doc-questionary__wrapper").querySelector(".error-message").classList.add("is-active"),t.target.closest(".doc-questionary__wrapper").querySelector(".error-message").textContent="Общий размер файлов не должен превышать ".concat(15," Мб."),t.target.value=""),l.innerHTML="";var c=e.target.files;if(0<c.length)for(var i=0;i<c.length;i++){var a=document.createElement("li");a.textContent=c[i].name,l.appendChild(a),u.classList.add("is-active")}else{t=document.createElement("li");t.textContent="Нет файлов",l.appendChild(t),u.classList.remove("is-active")}}),u.addEventListener("click",function(){e.value="",l.innerHTML="",u.classList.remove("is-active")})})};var o=document.querySelectorAll(".upload")},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setUtilsBtns=function(){o&&c&&o.forEach(function(t){t.addEventListener("click",function(){var e=t.getAttribute("data-id");c.setAttribute("data-utils",e)})});r&&i&&r.forEach(function(t){t.addEventListener("click",function(){var e=t.getAttribute("data-id");i.setAttribute("data-utils",e)})});r&&a&&r.forEach(function(t){t.addEventListener("click",function(){var e=t.getAttribute("data-id");a.setAttribute("data-utils",e)})})};var o=document.querySelectorAll("[utils-btn-main]"),r=document.querySelectorAll("[utils-btn-settings]"),c=document.querySelector(".user-account__main"),i=document.querySelector(".user-account__settings"),a=document.querySelector(".doctor-account__settings")},{}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setWrapperClass=function(){null!==o&&""!==o||(r.classList.contains("internal")?r.classList="wrapper internal":r.classList="wrapper");"false"===o?(r.classList.add("client"),r.classList.contains("therapist")&&r.classList.remove("therapist")):"true"===o&&(r.classList.add("therapist"),r.classList.contains("client"))&&r.classList.remove("client")};var o=localStorage.getItem("is_therapist"),r=document.querySelector(".wrapper")},{}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.iosChecker=void 0;n.iosChecker=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.iosVhFix=void 0;var o=e("./ios-checker");n.iosVhFix=function(){var e;window.MSInputMethodContext&&document.documentMode||(0,o.iosChecker)()&&(e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",function(){e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px"))}))}},{"./ios-checker":29}]},{},[1]);