<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Speak your mind">
  <title>Speak your mind</title>
  <link rel="icon" type="image/x-icon" href="./favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="./img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./img/favicon/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="./img/favicon/apple-touch-icon.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
  <link rel="stylesheet" href="css/style.min.css">
</head>

<body>
  <div class="wrapper user-unlogged">
    <header class="header">
      <div class="container">
        <div class="header__logo">
          <div class="header__logo-wrapper">
            <svg width="196" height="24" fill="currentColor">
              <use xlink:href="./img/sprite.svg#logo"></use>
            </svg>
          </div>
        </div>
        <nav class="header__nav nav">
          <div class="nav__wrapper">
            <ul class="nav__list">
              <li class="nav__item nav__item--psychologists">
                <a class="nav__link" data-translate="nav_client" href="user-landing.html"></a>
              </li>
              <!-- <li class="nav__item nav__item--businnes">
                <a class="nav__link href="businnes-landing.html" data-translate="nav_comp"></a>
              </li> -->
              <li class="nav__item">
                <a class="nav__link" href="faq.html">FAQ</a>
              </li>
            </ul>
          </div>
        </nav>
        <div class="header__lang-switcher lang-switcher">
          <button class="lang-switcher__btn js-dropdown-trigger" data-id="#lang-switcher">
            <span data-translate="current_language"></span>
            <svg width="10" height="10" fill="currentColor">
              <use xlink:href="./img/sprite.svg#dropdown"></use>
            </svg>
          </button>
          <ul class="lang-switcher__list list-reset" id="lang-switcher">
            <!-- <li class="lang-switcher__item">
              <a href="#" data-lang="hu">Hu</a>
            </li> -->
            <li class="lang-switcher__item">
              <a href="#" data-lang="en">En</a>
            </li>
            <li class="lang-switcher__item">
              <a href="#" data-lang="ru">Ru</a>
            </li>
          </ul>
        </div>
        <div class="header__unlogged unlogged">
          <a class="unlogged__login-btn btn btn--white" data-translate="header_login_btn"></a>
          <a href="user-signup-start.html" class="unlogged__login-btn btn" data-translate="header_signup_btn"></a>
        </div>
        <div class="header__logged logged">
          <div class="logged__wrapper">
            <div class="logged__user-thumb">
              <img src="./img/content/user-thumb.png" width="24" height="24" alt="">
            </div>
            <button class="logged__btn js-dropdown-trigger" data-id="#logged-menu">
              <span class="logged__username">Александр</span>
              <svg width="10" height="10" fill="currentColor">
                <use xlink:href="./img/sprite.svg#dropdown"></use>
              </svg>
            </button>
            <ul class="logged__menu-list list-reset" id="logged-menu">
              <li class="logged__menu-item">
                <a href="#" data-translate="logout_btn" class="logout-btn">Выйти</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <main>
      <section class="doc-questionary">
        <div class="container">
          <div class="doc-questionary__heading">
            <h1 class="title" data-translate="doc_q_title">Как начать сотрудничество с нами?</h1>
            <p class="text-18" data-translate="doc_q_subtitle">Пожалуйста, заполните анкету (поля, помеченные
              звездочкой, обязатальны)</p>
          </div>
          <form action="" method="post" id="register-therapist-form">
            <div class="doc-questionary__wrapper">
              <p class="text-20" data-translate="doc_q_name">Ваши Фамилия Имя Отчество*</p>
              <input class="text-18" type="text" name="doc_name" id="doc_name" placeholder="ФИО"
                data-translate="doc_q_name_placeholder">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20" data-translate="doc_q_dob">Ваша дата рождения? Число. Месяц. Год.*</p>
              <!-- <p class="text-13" data-translate="doc_q_dob_expample">Пример формата: 08.05.1970</p> -->
              <input class="text-18" type="date" name="doc_date_of_birth" id="doc_date_of_birth">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20" data-translate="doc_q_gender">Ваш пол*</p>
              <select name="doc_gender" id="doc_gender">
                <option value="" disabled selected hidden data-translate="doc_q_gender_choose">Выбрать</option>
                <option value="0" data-translate="doc_q_gender_male">Мужской</option>
                <option value="1" data-translate="doc_q_gender_female">Женский</option>
              </select>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20" data-translate="doc_q_edu_title">Какое у вас высшее образование?*</p>
              <p class="text-18" data-translate="doc_q_edu_subtitle">Напишите о базовом психологическом (смежном)
                обучении или переподготовке: 1. Год
                окончания 2. Название ВУЗа 3. Название факультета и специалитета 4. Укажите академическую степень
                (бакалавриат, магистратура) или ученую степень (если есть).</p>
              <p class="text-13"><span data-translate="doc_q_edu_text_1">Например,</span><br>
                <span data-translate="doc_q_edu_text_2">2003 - МГУ - факультет психологии, клиническая психология -
                  бакалавр.</span><br>
                <span data-translate="doc_q_edu_text_3">2010 - ВШЭ - психоанализ - магистерская программа (2
                  года).</span>
              </p>
              <textarea class="text-18" name="doc_edu" id="doc_edu" placeholder="Образование" data-translate="doc_q_edu_placeholder"></textarea>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20" data-translate="doc_q_method_title">Выберите 1-2 метода, в которых вы работаете онлайн*
              </p>
              <div class="checkboxes-wrapper">
                <div class="doc-questionary__checkboxes">
                  <label>
                    <input type="checkbox" id="doc_method-0" name="doc_method" value="0">
                    <span data-translate="doc_q_method_0">Психоанализ</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-1" name="doc_method" value="1">
                    <span data-translate="doc_q_method_1">Терапия внутренних семейных систем (IFS)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-2" name="doc_method" value="2">
                    <span data-translate="doc_q_method_2">Когнитивно-поведенческая терапия (КПТ)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-3" name="doc_method" value="3">
                    <span data-translate="doc_q_method_3">Травма-фокусированный КПТ</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-4" name="doc_method" value="4">
                    <span data-translate="doc_q_method_4">Терапия, сфокусированная на сострадании (CFT)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-5" name="doc_method" value="5">
                    <span data-translate="doc_q_method_5">Диалектическая поведенческая терапия (ДБТ/DBT)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-6" name="doc_method" value="6">
                    <span data-translate="doc_q_method_6">Гештальт-терапия</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-7" name="doc_method" value="7">
                    <span data-translate="doc_q_method_7">Системная семейная терапия</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-8" name="doc_method" value="8">
                    <span data-translate="doc_q_method_8">Системная сексуальная терапия</span>
                  </label>
                </div>
                <div class="doc-questionary__checkboxes">
                  <label>
                    <input type="checkbox" id="doc_method-9" name="doc_method" value="9">
                    <span data-translate="doc_q_method_9">Терапия принятия и ответственности</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-10" name="doc_method" value="10">
                    <span data-translate="doc_q_method_10">Схема-терапия (CBT)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-11" name="doc_method" value="11">
                    <span data-translate="doc_q_method_11">Экзистенциальная психотерапия(лого и
                      клиент-центрированная)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-12" name="doc_method" value="12">
                    <span data-translate="doc_q_method_12">Трансактный анализ</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-13" name="doc_method" value="13">
                    <span data-translate="doc_q_method_13">Десенсибилизация и переработка движением
                      глаз(EMDR/ДПДГ)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-14" name="doc_method" value="14">
                    <span data-translate="doc_q_method_14">Рационально эмоционально поведенческая терапия(REBT)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-15" name="doc_method" value="15">
                    <span data-translate="doc_q_method_15">Эмоционально-фокусированная терапия (ЭФТ)</span>
                  </label>
                  <label>
                    <input type="checkbox" id="doc_method-16" name="doc_method" value="16">
                    <span data-translate="doc_q_method_16">Арт-терапия</span>
                  </label>
                </div>
              </div>
            </div>

            <div class="doc-questionary__wrapper">
              <p class="text-20" data-translate="doc_q_language_title">Язык консультаций*</p>
              <div class="doc-questionary__checkboxes">
                <label>
                  <input type="checkbox" id="doc_language_ru" name="doc_language" value="0">
                  <span data-translate="doc_q_language_ru">русский</span>
                </label>
                <label>
                  <input type="checkbox" id="doc_language_hu" name="doc_language" value="1">
                  <span>magyar</span>
                </label>
                <label>
                  <input type="checkbox" id="doc_language_en" name="doc_language" value="2">
                  <span>english</span>
                </label>
              </div>
            </div>

            <div class="doc-questionary__wrapper">
              <p class="text-18" data-translate="doc_edu_additional_title">Выберите, если у вас есть дополнительное образование, касающееся следующих тем</p>
              <div class="doc-questionary__checkboxes">
                <label>
                  <input type="checkbox" id="doc_edu_add_0" name="doc_edu_additional" value="0">
                  <span data-translate="doc_edu_additional_0">Зависимости, аддикции</span>
                </label>
                <label>
                  <input type="checkbox" id="doc_edu_add_1" name="doc_edu_additional" value="1">
                  <span data-translate="doc_edu_additional_1">Растройство пищевого поведения</span>
                </label>
                <label>
                  <input type="checkbox" id="doc_edu_add_2" name="doc_edu_additional" value="2">
                  <span data-translate="doc_edu_additional_2">Сексология</span>
                </label>
                <label>
                  <input type="checkbox" id="doc_edu_add_3" name="doc_edu_additional" value="3">
                  <span data-translate="doc_edu_additional_3">Экстремальные ситуации, ПТСР</span>
                </label>
                <label>
                  <input type="checkbox" id="doc_edu_add_4" name="doc_edu_additional" value="4">
                  <span data-translate="doc_edu_additional_4">Другое</span>
                </label>
              </div>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20" data-translate="doc_edu_upload_title">Пожалуйста, прикрепите фотографии развернутых дипломов и сертификатов,
                подтверждающих обучение.*</p>
              <p class="text-18">Обязательные документы: (1) диплом о базовом психологическом (смежном) обучении /
                переподготовке (2)документы об обучении методу. ⚠️ Если обучение не окончено, пожалуйста, прикрепите
                справку из обучающего учреждения.*</p>
              <label class="input-file">
                <input type="file" multiple name="doc_edu_upload" id="doc_edu_upload">
                <span class="btn btn--white">Выберите файл</span>
              </label>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Состоите ли вы в каком-либо психотерапевтическом сообществе?*</p>
              <p class="text-18">Если да, то в каком?</p>
              <textarea class="text-20" name="doc_comunity" id="doc_comunity" placeholder="Ваш ответ"></textarea>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Когда вы начали консультировать?*</p>
              <p class="text-18">За деньги, не в рамках учебной программы. Обязательно напишите месяц, не только год.
              </p>
              <p class="text-13">Например, май 2019</p>

              <div class="start">
                <select name="doc_practice_start_month" id="doc_practice_start_month">
                  <option value="01">январь</option>
                  <option value="02">февраль</option>
                  <option value="03">март</option>
                  <option value="04">апрель</option>
                  <option value="05">май</option>
                  <option value="06">июнь</option>
                  <option value="07">июль</option>
                  <option value="08">август</option>
                  <option value="9">сентябрь</option>
                  <option value="10">октябрь</option>
                  <option value="11">ноябрь</option>
                  <option value="12">декабрь</option>
                </select>
                <input class="text-18" type="number" name="doc_practice_start_year" id="doc_practice_start_year"
                  placeholder="год">
              </div>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Есть ли опыт работы онлайн?*</p>
              <p class="text-18">Если да, то сколько лет?</p>
              <input class="text-18" type="number" name="doc_online_experience" id="doc_online_experience"
                placeholder="Ваш ответ">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Сколько клиентов у вас сейчас в практике?*</p>
              <p class="text-18">Пожалуйста, не за всю историю практики, а на текущий момент</p>
              <input class="text-18" type="number" name="doc_customers_amount_current" id="doc_customers_amount_current"
                placeholder="Число">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Сколько времени заняла самая длительная терапия среди ваших клиентов?*</p>
              <p class="text-18">(Укажите годы, месяцы или число сессий)</p>
              <p class="text-13">Например, 20 сессий.</p>
              <input class="text-18" type="text" name="doc_therapy_length" id="doc_therapy_length" placeholder="Число">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Проходите ли вы личную психотерапию?*</p>
              <div class="doc-questionary__radio">
                <input type="radio" id="doc_personal_therapy_yes" name="doc_personal_therapy" value="yes" checked>
                <label for="doc_personal_therapy_yes">
                  <svg width="18" height="18" fill="currentColor">
                    <use xlink:href="./img/sprite.svg#check-mark"></use>
                  </svg>
                  <span class="text-14">Да</span>
                </label>
                <input type="radio" id="doc_personal_therapy_no" name="doc_personal_therapy" value="no">
                <label for="doc_personal_therapy_no">
                  <svg width="18" height="18" fill="currentColor">
                    <use xlink:href="./img/sprite.svg#check-mark"></use>
                  </svg>
                  <span class="text-14">Нет</span>
                </label>
              </div>
              <p class="text-20">Проходите ли вы регулярные супервизии?*</p>
              <div class="doc-questionary__radio">
                <input type="radio" id="doc_supervision_yes" name="doc_supervision" value="yes" checked>
                <label for="doc_supervision_yes">
                  <svg width="18" height="18" fill="currentColor">
                    <use xlink:href="./img/sprite.svg#check-mark"></use>
                  </svg>
                  <span class="text-14">Да</span>
                </label>
                <input type="radio" id="doc_supervision_no" name="doc_supervision" value="no">
                <label for="doc_supervision_no">
                  <svg width="18" height="18" fill="currentColor">
                    <use xlink:href="./img/sprite.svg#check-mark"></use>
                  </svg>
                  <span class="text-14">Нет</span>
                </label>
              </div>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Есть ли другая работа кроме психотерапевтической практики?*</p>
              <p class="text-18">Как распределяются интересы и приоритеты?</p>
              <textarea class="text-20" name="doc_another_job" id="doc_another_job" placeholder="Ваш ответ"></textarea>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Какое количество клиентов вы готовы взять?*</p>
              <p class="text-18">Пожалуйста, напишите диапазон «от-до»</p>
              <input class="text-18" type="text" name="doc_customers_slots_available" id="doc_customers_slots_available"
                placeholder="Ваш ответ">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Ссылки на профили в социальных сетях*</p>
              <textarea class="text-20" name="doc_socials_links" id="doc_socials_links"
                placeholder="Ваш ответ"></textarea>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Прикрепите ваши фотографии.*</p>
              <p class="text-18">Требования к фото: 1. Цветные; 2. Лицо по центру и хорошо освещено; 3. Размер не менее
                1МБ; 4. В формате (название).jpg; 5. В количестве не более трех штук.</p>
              <p class="text-13">Если мы заключим с вами договор, одна из фотографий будет использована на платформе для
                рассказа о вас клиентам.</p>
              <label class="input-file">
                <input type="file" multiple name="doc_photo_upload" id="doc_photo_upload">
                <span class="btn btn--white">Выберите файлы</span>
              </label>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Какое у вас гражданство?*</p>
              <p class="text-18">Нам это необходимо знать для нашей системы оплаты и налогообложения</p>
              <select name="doc_citizenship" id="doc_citizenship">
                <option value="" disabled selected hidden>Выбрать вариант</option>
                <option value="0">РФ</option>
                <option value="1">Венгрия</option>
                <option value="2">Казахстан</option>
                <option value="3">Украина</option>
                <option value="4">Беларусь</option>
                <option value="other">Другое</option>
              </select>
              <label class="other-input">
                <input type="text" name="doc_citizenship_other" id="doc_citizenship_other" placeholder="Ваш вариант">
              </label>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Как вы узнали о наборе терапевтов на нашем сайте?*</p>
              <select name="doc_ref" id="doc_ref">
                <option value="" disabled selected hidden>Выбрать вариант</option>
                <option value="0">Рассказали коллеги / друзья</option>
                <option value="1">Из рекламы во ВКонтакте</option>
                <option value="2">Из рекламы в Фейсбук</option>
                <option value="3">Из рекламы в Инстаграм</option>
                <option value="4">Из вашего аккаунта в Инстаграм</option>
                <option value="5">Нашёл/нашла на сайте информацию о наборе</option>
                <option value="6">Через поиск работы в интернете</option>
                <option value="other">Другое</option>
              </select>
              <label class="other-input">
                <input type="text" name="doc_ref_other" id="doc_ref_other" placeholder="Ваш вариант">
              </label>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Номер телефона для связи*</p>
              <p class="text-18">Номер должен начинаться с "+" и содержать международный код вашей страны</p>
              <input class="text-18" type="text" name="doc_phone" id="doc_phone" placeholder="Ваш телефон">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Адрес электронной почты для связи с вами*</p>
              <p class="text-18">Всё общение с нами происходит через письма на почту. Мы пришлём вам письмо с итогом по
                вашей заявке. Пожалуйста, проверьте правильность адреса несколько раз.
              </p>
              <input class="text-18" type="email" name="doc_email" id="doc_email" placeholder="Ваш email">
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Расскажите нам о себе в свободной форме.*</p>
              <p class="text-18"> Что считаете нам нужно узнать о вас, чтобы понять, какой вы специалист?</p>
              <textarea class="text-20" name="doc_additional_info" id="doc_additional_info"
                placeholder="Ваш ответ"></textarea>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Какие вещи вы считаете недопустимыми в психотерапевтическом процессе? Почему?*</p>
              <textarea class="text-20" name="doc_question_1" id="doc_question_1" placeholder="Ваш ответ"></textarea>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">С чем, по-вашему, нельзя работать онлайн? Почему?*</p>
              <textarea class="text-20" name="doc_question_2" id="doc_question_2" placeholder="Ваш ответ"></textarea>
            </div>
            <div class="doc-questionary__wrapper">
              <p class="text-20">Каким способом нам связаться с вами?*</p>
              <select name="doc_contact" id="doc_contact">
                <option value="" disabled selected hidden>Выбрать вариант</option>
                <option value="doc_contact_email">Email</option>
                <option value="doc_contact_whatsapp">WhatsApp</option>
                <option value="doc_contact_telegram">Telegram</option>
              </select>
              <label class="other-input">
                <input type="text" name="doc_contact_other" id="doc_contact_other" placeholder="Ваш ответ">
                <p>Ссылка или ваш ник в Telegram*</p>
              </label>
            </div>
            <button type="submit" class="doc-questionary__submit-btn btn">Отправить анкету</button>
          </form>
    </main>
    <footer class="footer">
      <div class="container">
        <div class="footer__left"></div>
        <div class="footer__copyright">
          <span>&copy; Speak Your Mind 2023</span>
        </div>
      </div>
    </footer>
  </div>

  <div class="modal modal--preload" id="payment-terms">
    <div class="modal__wrapper">
      <div class="modal__overlay" data-close-modal></div>
      <div class="modal__content modal__content--new-card">
        <button class="modal__close-btn" type="button" aria-label="Закрыть окно." data-close-modal>
          <svg width="32" height="32" fill="currentColor">
            <use xlink:href="./img/sprite.svg#close-modal"></use>
          </svg>
        </button>
        <h2 class="modal__title text-31">Условия сервиса и автосписания</h2>
        <p class="modal__text text-18"> Пользователю доступна функция безналичной оплаты Видеоконсультаций, в этом
          случае «Speak your mind» действует по поручению соответствующего Психолога с привлечением уполномоченной
          платежной системы и является получателем платежа в качестве агента Психолога (далее – «безналичная оплата»).
        </p>
        <p class="modal__text text-18">«Speak your mind» не гарантирует отсутствия ошибок и сбоев в работе Сервиса в
          отношении предоставления
          возможности безналичной оплаты. Списание денежных средств за Видеоконсультацию осуществляется за 24 часа до
          момента проведения Видеоконсультации, а если Пользователь записался на Видеоконсультацию менее, чем за 24
          часа, то списание осуществляется за 12 часов до Видеоконсультации или в момент записи на Видеоконсультацию, в
          зависимости от того, что наступит ранее. В случае невозможности списания денежных средств за 12 часов до
          проведения Видеоконсультации, Видеоконсультация подлежит отмене.</p>
      </div>
    </div>
  </div>

  <script>
    const form = document.querySelector('#register-therapist-form');
    const url = 'http://127.0.0.1:8000/register_therapist';

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const doc_name = document.querySelector('#doc_name').value;
      const doc_date_of_birth = document.querySelector('#doc_date_of_birth').value;
      const doc_gender = document.querySelector('#doc_gender').value;
      const doc_edu = document.querySelector('#doc_edu').value;

      // массив методов
      const methods = document.querySelectorAll('[name="doc_method"]');
      const methodsValues = Array.from(methods)
        .filter(checkbox => checkbox.checked)
        .map(checkbox => checkbox.value); // Преобразуем строку в число
      const doc_method = methodsValues;

      // массив языков
      const languages = document.querySelectorAll('[name="doc_language"]');
      const languagesValues = Array.from(languages)
        .filter(checkbox => checkbox.checked)
        .map(checkbox => checkbox.value); // Преобразуем строку в число
      const doc_language = languagesValues;

      // массив доп образования
      const addEducations = document.querySelectorAll('[name="doc_edu_additional"]');
      const addEducationsValues = Array.from(addEducations)
        .filter(checkbox => checkbox.checked)
        .map(checkbox => checkbox.value); // Преобразуем строку в число
      const doc_edu_additional = addEducationsValues;

      const doc_comunity = document.querySelector('#doc_comunity').value;
      const doc_practice_start = `${document.querySelector('#doc_practice_start_month').value} ${document.querySelector('#doc_practice_start_year').value}`;
      const doc_online_experience = document.querySelector('#doc_online_experience').value;
      const doc_customers_amount_current = document.querySelector('#doc_customers_amount_current').value;
      const doc_therapy_length = document.querySelector('#doc_therapy_length').value;
      const doc_personal_therapy = document.querySelector('[name="doc_personal_therapy"]').value;
      const doc_supervision = document.querySelector('[name="doc_supervision"]').value;
      const doc_another_job = document.querySelector('#doc_another_job').value;
      const doc_customers_slots_available = document.querySelector('#doc_customers_slots_available').value;
      const doc_socials_links = document.querySelector('#doc_socials_links').value;
      const doc_citizenship = document.querySelector('#doc_citizenship').value;
      const doc_citizenship_other = document.querySelector('#doc_citizenship_other').value;
      const doc_ref = document.querySelector('#doc_ref').value;
      const doc_ref_other = document.querySelector('#doc_ref_other').value;
      const doc_phone = document.querySelector('#doc_phone').value;
      const doc_email = document.querySelector('#doc_email').value;
      const doc_additional_info = document.querySelector('#doc_additional_info').value;
      const doc_question_1 = document.querySelector('#doc_question_1').value;
      const doc_question_2 = document.querySelector('#doc_question_2').value;
      const doc_contact = document.querySelector('#doc_contact').value;

      const fileInputs = document.querySelectorAll('input[type="file"]');
      const files = Array.from(fileInputs).reduce((acc, fileInput) => {
        if (fileInput.files) {
          acc.push(...Array.from(fileInput.files));
        }
        return acc;
      }, []);

      const filePromises = files.map((file) => {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();
          reader.onload = () => resolve({ name: file.name, type: file.type, data: reader.result });
          reader.onerror = reject;
          reader.readAsDataURL(file);
        });
      });

      Promise.all(filePromises)
        .then((base64Files) => {
          const userData = {
            is_therapist: true,
            doc_name: doc_name,
            doc_date_of_birth: doc_date_of_birth,
            doc_gender: doc_gender,
            doc_edu: doc_edu,
            doc_method: doc_method,
            doc_language: doc_language,
            doc_edu_additional: doc_edu_additional,
            doc_comunity: doc_comunity,
            doc_practice_start: doc_practice_start,
            doc_online_experience: doc_online_experience,
            doc_customers_amount_current: doc_customers_amount_current,
            doc_therapy_length: doc_therapy_length,
            doc_personal_therapy: doc_personal_therapy,
            doc_supervision: doc_supervision,
            doc_another_job: doc_another_job,
            doc_customers_slots_available: doc_customers_slots_available,
            doc_socials_links: doc_socials_links,
            doc_citizenship: doc_citizenship,
            doc_citizenship_other: doc_citizenship_other,
            doc_ref: doc_ref,
            doc_ref_other: doc_ref_other,
            doc_phone: doc_phone,
            doc_email: doc_email,
            doc_additional_info: doc_additional_info,
            doc_question_1: doc_question_1,
            doc_question_2: doc_question_2,
            doc_contact: doc_contact,
            user_photo: base64Files.map(file => ({ name: file.name, type: file.type, data: file.data }))
          };

          // Отправка данных на бэкенд с помощью fetch
          fetch(url, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(userData)
          })
            .then(response => {
              // Проверка, если сервер вернул успешный ответ
              if (!response.ok) {
                throw new Error('Ошибка сети: ' + response.status);
              }
              return response.json(); // Предполагается, что сервер возвращает JSON
            })
            .then(data => {
              // Обработка ответа от сервера
              console.log(data); // Выводим данные в консоль для отладки

              // Предполагается, что токен находится в data.token
              if (data.token) {
                // Сохранение токена в Local Storage
                localStorage.setItem('token', data.token);

                // Редирект на страницу /doctor-account-settings.html
                window.location.href = '/doctor-account-settings.html';
              } else {
                console.error('Токен не найден в ответе от сервера');
              }
            })
            .catch(error => {
              // Обработка ошибки
              console.log('Ошибка >' + error);
            });
        })
        .catch(error => {
          // Обработка ошибки чтения файлов
          console.log('Ошибка >>' + error);
        });
    });

  </script>

  <script src="js/vendor.min.js"></script>
  <script src="js/main.min.js"></script>
</body>

</html>
